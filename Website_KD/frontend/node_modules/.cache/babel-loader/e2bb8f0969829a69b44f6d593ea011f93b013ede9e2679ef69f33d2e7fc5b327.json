{"ast":null,"code":"var _jsxFileName = \"D:\\\\Lu\\u1EADn V\\u0103n HK1_2024\\\\Website_KD\\\\frontend\\\\src\\\\components\\\\user\\\\VirtualTryOn.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport '../../css/style.css'; // Import file CSS nếu cần\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VirtualTryOn = () => {\n  _s();\n  const [userImage, setUserImage] = useState(null);\n  const [clothingImage, setClothingImage] = useState(null);\n  const canvasRef = useRef(null);\n\n  // Xử lý khi người dùng tải ảnh lên\n  const handleImageUpload = e => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      setUserImage(reader.result);\n    };\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  // Xử lý khi người dùng chọn quần áo\n  const handleClothingSelect = clothing => {\n    setClothingImage(clothing);\n  };\n\n  // Vẽ ảnh người dùng và quần áo lên canvas\n  const drawCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Vẽ ảnh người dùng\n    if (userImage) {\n      const img = new Image();\n      img.src = userImage;\n      img.onload = () => {\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n      };\n    }\n\n    // Vẽ quần áo\n    if (clothingImage) {\n      const img = new Image();\n      img.src = clothingImage;\n      img.onload = () => {\n        ctx.drawImage(img, 100, 200, 200, 200); // Vị trí và kích thước của quần áo\n      };\n    }\n  };\n\n  // Khi userImage hoặc clothingImage thay đổi, vẽ lại canvas\n  React.useEffect(() => {\n    drawCanvas();\n  }, [userImage, clothingImage]);\n\n  // Danh sách quần áo\n  const clothingItems = [{\n    id: 1,\n    name: 'Áo thun',\n    imageUrl: '/img/0ZXTEM110049NWHX-pdp-1-removebg-preview.png'\n  }, {\n    id: 2,\n    name: 'Quần jeans',\n    imageUrl: 'https://ithk-pro-itmall-item.oss-cn-hongkong.aliyuncs.com/2/product/0ZXLTM111015NGYX/0ZXLTM111015NGYX-pdp-1.jpg'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"virtual-try-on\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Th\\u1EED \\u0111\\u1ED3 tr\\u1EF1c tuy\\u1EBFn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleImageUpload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 400,\n      height: 600,\n      className: \"canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"clothing-options\",\n      children: clothingItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleClothingSelect(item.imageUrl),\n        children: [\"Th\\u1EED \", item.name]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(VirtualTryOn, \"AxG7icpLS9YGauVnk3vx8ZNwcVc=\");\n_c = VirtualTryOn;\nexport default VirtualTryOn;\nvar _c;\n$RefreshReg$(_c, \"VirtualTryOn\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","VirtualTryOn","_s","userImage","setUserImage","clothingImage","setClothingImage","canvasRef","handleImageUpload","e","reader","FileReader","onload","result","readAsDataURL","target","files","handleClothingSelect","clothing","drawCanvas","canvas","current","ctx","getContext","clearRect","width","height","img","Image","src","drawImage","useEffect","clothingItems","id","name","imageUrl","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","ref","map","item","onClick","_c","$RefreshReg$"],"sources":["D:/Luận Văn HK1_2024/Website_KD/frontend/src/components/user/VirtualTryOn.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport '../../css/style.css'; // Import file CSS nếu cần\r\n\r\nconst VirtualTryOn = () => {\r\n  const [userImage, setUserImage] = useState(null);\r\n  const [clothingImage, setClothingImage] = useState(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  // Xử lý khi người dùng tải ảnh lên\r\n  const handleImageUpload = (e) => {\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      setUserImage(reader.result);\r\n    };\r\n    reader.readAsDataURL(e.target.files[0]);\r\n  };\r\n\r\n  // Xử lý khi người dùng chọn quần áo\r\n  const handleClothingSelect = (clothing) => {\r\n    setClothingImage(clothing);\r\n  };\r\n\r\n  // Vẽ ảnh người dùng và quần áo lên canvas\r\n  const drawCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Vẽ ảnh người dùng\r\n    if (userImage) {\r\n      const img = new Image();\r\n      img.src = userImage;\r\n      img.onload = () => {\r\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n      };\r\n    }\r\n\r\n    // Vẽ quần áo\r\n    if (clothingImage) {\r\n      const img = new Image();\r\n      img.src = clothingImage;\r\n      img.onload = () => {\r\n        ctx.drawImage(img, 100, 200, 200, 200); // Vị trí và kích thước của quần áo\r\n      };\r\n    }\r\n  };\r\n\r\n  // Khi userImage hoặc clothingImage thay đổi, vẽ lại canvas\r\n  React.useEffect(() => {\r\n    drawCanvas();\r\n  }, [userImage, clothingImage]);\r\n\r\n  // Danh sách quần áo\r\n  const clothingItems = [\r\n    { id: 1, name: 'Áo thun', imageUrl: '/img/0ZXTEM110049NWHX-pdp-1-removebg-preview.png' },\r\n    { id: 2, name: 'Quần jeans', imageUrl: 'https://ithk-pro-itmall-item.oss-cn-hongkong.aliyuncs.com/2/product/0ZXLTM111015NGYX/0ZXLTM111015NGYX-pdp-1.jpg' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"virtual-try-on\">\r\n      <h2>Thử đồ trực tuyến</h2>\r\n      <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\r\n      <canvas ref={canvasRef} width={400} height={600} className=\"canvas\" />\r\n      <div className=\"clothing-options\">\r\n        {/* Chọn quần áo để thử */}\r\n        {clothingItems.map(item => (\r\n          <button key={item.id} onClick={() => handleClothingSelect(item.imageUrl)}>\r\n            Thử {item.name}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VirtualTryOn;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}