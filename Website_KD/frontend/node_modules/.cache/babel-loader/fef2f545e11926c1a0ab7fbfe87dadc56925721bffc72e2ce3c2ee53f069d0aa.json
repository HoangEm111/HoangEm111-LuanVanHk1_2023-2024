{"ast":null,"code":"const fetchAdminData = async () => {\n  setLoading(true);\n  setErrorMessage('');\n  const token = localStorage.getItem('token'); // Lấy token từ localStorage\n  if (!token) {\n    setErrorMessage('Token không tồn tại. Vui lòng đăng nhập lại.');\n    setLoading(false);\n    return;\n  }\n  try {\n    const response = await axios.get('http://localhost:3000/api/auth/admin', {\n      headers: {\n        Authorization: `Bearer ${token}` // Gửi token trong header\n      }\n    });\n    setAdminData(response.data);\n  } catch (error) {\n    if (error.response) {\n      switch (error.response.status) {\n        case 401:\n          setErrorMessage('Bạn không có quyền truy cập. Vui lòng đăng nhập.');\n          break;\n        case 403:\n          setErrorMessage('Quyền truy cập bị từ chối.');\n          break;\n        case 404:\n          setErrorMessage('Không tìm thấy dữ liệu.');\n          break;\n        default:\n          setErrorMessage(error.response.data.message || 'Đã xảy ra lỗi.');\n      }\n    } else {\n      setErrorMessage('Lỗi trong quá trình tải dữ liệu');\n    }\n  } finally {\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["fetchAdminData","setLoading","setErrorMessage","token","localStorage","getItem","response","axios","get","headers","Authorization","setAdminData","data","error","status","message"],"sources":["D:/Luận Văn HK1_2024/Website_KD/frontend/src/components/admin/AdminPage.js"],"sourcesContent":["const fetchAdminData = async () => {\r\n    setLoading(true);\r\n    setErrorMessage('');\r\n  \r\n    const token = localStorage.getItem('token'); // Lấy token từ localStorage\r\n    if (!token) {\r\n      setErrorMessage('Token không tồn tại. Vui lòng đăng nhập lại.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      const response = await axios.get('http://localhost:3000/api/auth/admin', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}` // Gửi token trong header\r\n        }\r\n      });\r\n      setAdminData(response.data);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        switch (error.response.status) {\r\n          case 401:\r\n            setErrorMessage('Bạn không có quyền truy cập. Vui lòng đăng nhập.');\r\n            break;\r\n          case 403:\r\n            setErrorMessage('Quyền truy cập bị từ chối.');\r\n            break;\r\n          case 404:\r\n            setErrorMessage('Không tìm thấy dữ liệu.');\r\n            break;\r\n          default:\r\n            setErrorMessage(error.response.data.message || 'Đã xảy ra lỗi.');\r\n        }\r\n      } else {\r\n        setErrorMessage('Lỗi trong quá trình tải dữ liệu');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;EAC/BC,UAAU,CAAC,IAAI,CAAC;EAChBC,eAAe,CAAC,EAAE,CAAC;EAEnB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;EAC7C,IAAI,CAACF,KAAK,EAAE;IACVD,eAAe,CAAC,8CAA8C,CAAC;IAC/DD,UAAU,CAAC,KAAK,CAAC;IACjB;EACF;EAEA,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,sCAAsC,EAAE;MACvEC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUP,KAAK,EAAE,CAAC;MACnC;IACF,CAAC,CAAC;IACFQ,YAAY,CAACL,QAAQ,CAACM,IAAI,CAAC;EAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIA,KAAK,CAACP,QAAQ,EAAE;MAClB,QAAQO,KAAK,CAACP,QAAQ,CAACQ,MAAM;QAC3B,KAAK,GAAG;UACNZ,eAAe,CAAC,kDAAkD,CAAC;UACnE;QACF,KAAK,GAAG;UACNA,eAAe,CAAC,4BAA4B,CAAC;UAC7C;QACF,KAAK,GAAG;UACNA,eAAe,CAAC,yBAAyB,CAAC;UAC1C;QACF;UACEA,eAAe,CAACW,KAAK,CAACP,QAAQ,CAACM,IAAI,CAACG,OAAO,IAAI,gBAAgB,CAAC;MACpE;IACF,CAAC,MAAM;MACLb,eAAe,CAAC,iCAAiC,CAAC;IACpD;EACF,CAAC,SAAS;IACRD,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}